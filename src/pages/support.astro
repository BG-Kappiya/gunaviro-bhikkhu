---
import { getCollection } from "astro:content";
import Accordion from "../components/Accordion.astro";
import { SITE_DESCRIPTION, SITE_TITLE } from "../consts";
import Layout from "../layouts/Layout.astro";
const collection = await getCollection("support");
const support = await Promise.all(
  collection
    .sort((a, b) => a.data.order - b.data.order)
    .map(async (support) => {
      const { Content } = await support.render();
      return {
        title: support.data.title,
        Content,
      };
    })
);
---

<Layout title={SITE_TITLE} description={SITE_DESCRIPTION}>
  <main>
    <div class="flex flex-col gap-4">
      {
        support.map((item) => (
          <Accordion title={item.title}>
            <item.Content />
          </Accordion>
        ))
      }
    </div>
  </main>
</Layout>
